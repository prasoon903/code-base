-- TO BE RUN ON PRIMARY SERVER

USE CCGS_CoreIssue
GO

BEGIN TRAN

	UPDATE CCARD_Primary
	SET TxnCode_Internal = '17794', TransactionDescription = '16104 =  INTEREST CHARGE-OFF DEBIT - FRAUD' WHERE 
	TranID IN (27360438861, 27360459095, 27360438827, 27360438793, 27331692733)
	-- 5 rows update

	UPDATE LogArTxnAddl
	SET TxnCode_Internal = '17794' WHERE 
	TranID IN (27360438861, 27360459095, 27360438827, 27360438793, 27331692733)
	-- 5 rows update

COMMIT TRAN
ROLLBACK TRAN


/*
VALIDATION

SELECT TxnCode_Internal, TransactionDescription
FROM CCARD_Primary WITH (NOLOCK)
WHERE TranID IN (27360438861, 27360459095, 27360438827, 27360438793, 27331692733)

SELECT TxnCode_Internal 
FROM LogArTxnAddl WITH (NOLOCK)
WHERE TranID IN (27360438861, 27360459095, 27360438827, 27360438793, 27331692733)

SELECT * FROM MonetaryTxnControl WITH (NOLOCK) WHERE
GroupId = 53
AND LogicModule = '161'
AND CardScheme = '0'
AND ChargeOffReason = '3'
AND PlanType IS NULL

SELECT *
FROM TranCodeLookUP TC WITH (NOLOCK)
JOIN MonetaryTxnControl MTC WITH (NOLOCK) ON (TC.LutCode = MTC.TransactionCode)
WHERE LUTid = 'TranCode'
AND MTC.GroupId = 53
AND MTC.LogicModule = '161'
AND MTC.ActualTranCode = '16104'

*/